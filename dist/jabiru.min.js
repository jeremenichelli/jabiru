!function(n,e){"use strict";"function"==typeof define&&define.amd?define(function(){return e(n)}):"object"==typeof exports?module.exports=e:n.jabiru=e(n)}(this,function(){"use strict";var n,e,t,r=!1,o={},i=document,u=i.getElementsByTagName("script")[0]||i.head||i.body;return o.get=function(o){function a(){s[c]=null,f.parentNode.removeChild(f)}if(!o||"string"!=typeof o.url||"function"!=typeof o.success||o.fail&&"function"!=typeof o.fail)throw new Error("Invalid option object argument");var f=i.createElement("script"),c=n+e,s=r?window:window.jabiru,l=r?"":"jabiru.";e++,s[c]=o.success,f.onload=a,o.fail&&(f.onerror=function(){o.fail(),a()}),f.src=o.url+t+"="+l+c,u.parentNode.insertBefore(f,u)},o.naming=function(t){if("string"!=typeof t)throw new Error("Callback name must be a string");return n=t,e=0,o},o.query=function(n){if("string"!=typeof n)throw new Error("Query name must be a string");return t=n,o},o.toGlobal=function(){return r=!0,o},o.naming("jabiruCallback"),o.query("?callback"),o});