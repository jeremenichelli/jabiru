!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.jabiru=t(e)}(this,function(){"use strict";var e,t,n,r=!1,o={},a=document.getElementsByTagName("script")[0];return o.get=function(o){function i(){s[c]=null,u.parentNode.removeChild(u)}if(!o||"string"!=typeof o.url||"function"!=typeof o.success)throw new Error("Invalid option object argument");var u=document.createElement("script"),c=e+t,s=r?window:window.jabiru,f=r?"":"jabiru.",l=o.success,d=o.url;t++,s[c]=function(e){if("function"!=typeof l)throw new Error("You must specify a method as a callback");l(e)},u.onload=u.onerror=u.onreadystatechange=function(e){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(u&&(u.onreadystatechange=null),i(e))},u.src=d+n+"="+f+c,a.parentNode.insertBefore(u,a)},o.naming=function(n){if("string"!=typeof n)throw new Error("Callback name must be a string");return e=n,t=0,o},o.query=function(e){if("string"!=typeof e)throw new Error("Query name must be a string");return n=e,o},o.toGlobal=function(){return r=!0,o},o.naming("jabiruCallback"),o.query("?callback"),o});