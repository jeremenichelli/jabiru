!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.jabiru=t(e)}(this,function(){"use strict";var e,t,n,r=!1,o={},a=document.head||document.getElementsByTagName("head")[0]||document.body;return o.get=function(o){function i(e){s[c]=e=null,a.removeChild(u)}if(!o||"string"!=typeof o.url||"function"!=typeof o.success)throw new Error("Invalid option object argument");var u=document.createElement("script"),c=e+t,s=r?window:window.jabiru,f=r?"":"jabiru.",d=o.success,l=o.url;t++,s[c]=function(e){if("function"!=typeof d)throw new Error("You must specify a method as a callback");d(e)},u.onload=u.onreadystatechange=function(e){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(u&&(u.onreadystatechange=null),i(e))},u.src=l+n+"="+f+c,a.appendChild(u)},o.naming=function(n){if("string"==typeof n)return e=n,t=0,o;throw new Error("Callback name must be a string")},o.query=function(e){if("string"==typeof e)return n=e,o;throw new Error("Query name must be a string")},o.toGlobal=function(){return r=!0,o},o.naming("jabiruCallback"),o.query("?callback"),o});